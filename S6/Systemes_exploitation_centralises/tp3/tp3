#include <stdio.h> /* entrées sorties */
#include <unistd.h> /* primitives de base : fork, ...*/
#include <stdlib.h> /* exit */
#include <sys/wait.h> /* wait */


int main(int argc, char *argv[]) {
    int BUFSIZE = 32;
    int source;
    int destinaion;
    int retR;
    int retW;
    char tampon[BUFSIZE];
    
    source = open("home/toto/fichier_source", O_RDONLY, 0777);
    destination = open("home/toto/fichier_dest", O_CREAT & O_WRONLY, 0777);
    
    ret = read(source, tampon, BUFSIZE);
    while (ret !=0) {
        if (retR == -1) {
            printf("Erreur de lecture");
        }
        if (retW == -1) {
            printf("Erreur d'écriture");
        }
        retW = write(destination, tampon, retR);
        retR = read(source, tampon, BUFSIZE);
    }
   
    close(source);
    close(destination);
    
    return EXIT_SUCCESS;
}
